"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0;const tslib_1=require("tslib"),builder_1=require("../../classes/builder"),utils_1=require("../../classes/utils"),lodash_1=tslib_1.__importDefault(require("lodash"));exports.data={data:(new builder_1.FunctionBuilder).setName("push").setValue("description","adds elements to the end of an array and returns the new length (this mutates the array").setValue("use","$push[key;...items]").setValue("fields",[{name:"key",description:"the key of array",type:"string<variable>"},{name:"...items",description:"the elements to add",type:"any"}]).setValue("example",'$var[array;[1, 2, 3]]\n$push[array;5;string:6]\n$log[;$var[array]] // [1, 2, 3, 4, 5, "6"]').setValue("returns","number"),code:async e=>{await e.func.resolve_fields(e);var[t,...a]=e.interpreter.fields(e),s=lodash_1.default.get(e.metadata.vars,t);return lodash_1.default.isArray(s)?(a=utils_1.Utils.Types(e,a),lodash_1.default.set(e.metadata.vars,t,(s.push(...a),s)),{code:e.code?.replace(e.func.id,s.length.toString())}):utils_1.Utils.Warn(`variable ${t.bgRed} is not an array`,e,!0)}};