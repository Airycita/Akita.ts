"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0;const tslib_1=require("tslib"),builder_1=require("../../classes/builder"),utils_1=require("../../classes/utils"),lodash_1=tslib_1.__importDefault(require("lodash"));exports.data={data:(new builder_1.FunctionBuilder).setName("addTimeout").setValue("description","...").setValue("use","$addTimeout[time;id;data;code]").setValue("fields",[{name:"time",type:"time"},{name:"id",type:'string | "random"'},{name:"code",type:"string<interpretableCode>"}]).setValue("example","$addTimeout[5s;asdf;$log[TIMEOUT;hi!]]").setValue("returns","Void"),code:async e=>{await e.func.resolve_field(e,0),await e.func.resolve_field(e,1),await e.func.resolve_field(e,2);let[t,i,a]=e.interpreter.fields(e);return a=utils_1.Utils.Object(a)||a,await e.interpreter._(e.func),t=utils_1.Utils.TimeToMS(t),"random"==i&&(i=lodash_1.default.random(Number.MAX_SAFE_INTEGER).toString()),e.client.timeouts.add(t,i,{code:e.interpreter.fields(e,3)[0],data:a}),{code:e.code?.replace(e.func.id,i)}}};