"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0;const builder_1=require("../../classes/builder"),utils_1=require("../../classes/utils");exports.data={data:(new builder_1.FunctionBuilder).setName("ban").setValue("description","bans a user").setValue("use","$ban[user;options?;guild?]").setValue("fields",[{name:"user",description:"the user Id that will be banned",type:"snowflake<user>"},{name:"options",description:"ban options <small>see more [here](https://discord.js.org/#/docs/discord.js/main/typedef/BanOptions)<small> `(default: {})`",type:"HJSOEncodable",optional:!0},{name:"guild",description:"the guild Id where the action will take place `(default: ?ContextGuildId)`",type:"snowflake<guild>",optional:!0}]).setValue("example",'$ban[$author[id];{ reason: "idk..." }]').setValue("returns","Boolean"),code:async t=>{await t.func.resolve_fields(t);let e,[s,a="{}",i=t.metadata?.ctx?.getGuild()?.id]=t.interpreter.fields(t);a=utils_1.Utils.Object(a);var l=t.client.guilds.cache.get(i);return l?(e=await l.bans.remove(s,a).catch(e=>(utils_1.Utils.Warn(`failed to ban ${s.bgYellow} because `+(e?.message?.bgYellow||e),t),!1)),{code:t.code.replace(t.func.id,e?"true":"false")}):utils_1.Utils.Warn("invalid guild id provided",t,!0)}};