"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0;const tslib_1=require("tslib"),builder_1=require("../../classes/builder"),utils_1=require("../../classes/utils"),lodash_1=tslib_1.__importDefault(require("lodash"));async function Iterator(e,t){t=await e.interpreter.parse(t,e,e.client),lodash_1.default.merge(e,t)}async function Condition(e,t){return t=await e.interpreter.parse(t,e,e.client),lodash_1.default.merge(e,t),utils_1.Utils.condition(t.code)}exports.data={data:(new builder_1.FunctionBuilder).setName("for").setValue("description","like javascript for").setValue("use","$for[start;condition;iterator;code]").setValue("fields",[{name:"start",type:"number"},{name:"condition",type:"string<interpretableCode<boolean>>"},{name:"iterator",type:"string<interpretableCode> | string<default | default2>"},{name:"code",type:"string<interpretableCode>"}]).setValue("example","$for[0;$var[index]<100;default;$log[;INDEX NUMBER $var[index]]]").setValue("returns","Void"),code:async function(){await this.resolveFields(0);var e=this.fields.shift();await this.fields.unsolve();const[t,a,i]=this.fields.split(!0);var r=async()=>{"increment"===a||"default"===a?this.meta.vars.index++:"decrement"===a?this.meta.vars.index--:await Iterator(this.data,a)};for(this.meta.vars.index=Number(e);await Condition(this.data,t);r()){var s=await this.data.interpreter.parse(i,this.data,this.data.client);lodash_1.default.merge(this.data,s)}return this.data.break=!1,this.makeReturn(this.meta.yields[this.id]||"")}};