"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const discord_js_1=require("discord.js"),context_1=require("../classes/context"),lodash_1=require("lodash");async function default_1(t,e,o){var s=e.commands.filter(e=>"INTERACTION"==e.type.toUpperCase()),a=new context_1.Context(t),d={metadata:{int:t,ctx:a}};if("string"==typeof o?.before&&(0,lodash_1.merge)(d,await e.resolve(o.before,d)),t instanceof discord_js_1.CommandInteraction)a=s.find(e=>e.names?.includes(t.command?.name)),(d.metadata.cmd=a)&&e.resolve(a.code,d,e);else for(const r of s)d.metadata.cmd=r,e.resolve(r.code,d,e)}exports.default=default_1;