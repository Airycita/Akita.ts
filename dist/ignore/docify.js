"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),mod=process.cwd()+"/dist/functions/",docs={},lodash_1=require("lodash"),fs_1=tslib_1.__importDefault(require("fs"));function e(e){return(0,lodash_1.escape)(e).replace(/\|/g,"&#124;")}function docify(t){var a=[];return a.push(`# **${t.data.name}**`,`> **${(0,lodash_1.upperFirst)(e(t.data.extra?.description))}** <br/>`,"> "+e(t.data.extra?.use),"- - -",""),t.data.extra?.fields&&a.push("### Fields","| name | description | type | required |","|------|-------------|------|----------|",...t.data.extra.fields.map(t=>`| ${(0,lodash_1.upperFirst)(t.name)} | ${(0,lodash_1.upperFirst)(t.description||"unknown")} | ${(0,lodash_1.upperFirst)(e(t.type))} | ${t.optional?"False":"True"} |`),""),a.push("### Returns","> "+(0,lodash_1.upperFirst)(e(t.data.extra?.returns||"Unknown")),"","### Example","> ```php",t.data.extra?.example||"None","```"),a.join("\n")}fs_1.default.writeFileSync(process.cwd()+"/doc/_sidebar.md",Object.keys(docs).map(e=>`* [${e}](functions/${e}.md)`).join("\n"),"utf-8"),async function(){for(const t of fs_1.default.readdirSync(mod))for(const a of fs_1.default.readdirSync(`${mod}/${t}/`)){var e=(await Promise.resolve().then(()=>tslib_1.__importStar(require(`../functions/${t}/`+a)))).data;e&&(docs[e.data.name]=docify(e),fs_1.default.writeFileSync(process.cwd()+"/doc/functions/"+e?.data.name+".md",docs[e.data.name],"utf-8"))}}();