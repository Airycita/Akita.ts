"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),uglify_js_1=require("uglify-js"),lodash_1=require("lodash"),process_1=require("process"),fs_1=tslib_1.__importDefault(require("fs"));async function main(i){var e,s=fs_1.default.readdirSync(i,{withFileTypes:!0}).map(e=>(e.name=i+"/"+e.name,e)),r=(0,lodash_1.filter)(s,e=>e.isFile()&&e.name.endsWith(".js"));for(e of(0,lodash_1.filter)(s,e=>e.isDirectory()))r.push(...await main(e.name));for(e of r){var a=fs_1.default.readFileSync(e.name,{encoding:"utf-8"}),t=(0,uglify_js_1.minify)(a)?.code;t&&t!=a&&fs_1.default.writeFileSync(e.name,t,"utf-8")}return r}main((0,process_1.cwd)()+"/dist/");