"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),uglify_js_1=require("uglify-js"),lodash_1=require("lodash"),process_1=require("process"),fs_1=tslib_1.__importDefault(require("fs"));async function main(i){var e=fs_1.default.readdirSync(i,{withFileTypes:!0}).map(e=>(e.name=i+"/"+e.name,e)),s=(0,lodash_1.filter)(e,e=>e.isFile()&&e.name.endsWith(".js"));for(const a of(0,lodash_1.filter)(e,e=>e.isDirectory()))s.push(...await main(a.name));for(const n of s){var r=fs_1.default.readFileSync(n.name,{encoding:"utf-8"}),t=(0,uglify_js_1.minify)(r)?.code;t&&t!=r&&fs_1.default.writeFileSync(n.name,t,"utf-8")}return s}main((0,process_1.cwd)()+"/dist/");